{"post_stream":{"posts":[{"id":110,"name":"","username":"Julien","avatar_template":"/user_avatar/discourse.simplon.co/julien/{size}/15.png","uploaded_avatar_id":15,"created_at":"2015-06-15T07:17:36.273Z","cooked":"<p><code>sudo apt-get install postgresql</code> ou <a href=\"http://sqlfiddle.com/\">http://sqlfiddle.com/</a> (bien mettre Postgresql)</p>\n\n<p></p><pre><code class=\"lang-sql\">CREATE TABLE users (\n  \"id\" int PRIMARY KEY,\n  \"email\" varchar(255),\n  \"password\" varchar(40)\n);\n    \nINSERT INTO users (\"id\", \"email\", \"password\") VALUES\n  (1, 'alice@example.org', 'alicepassword'),\n  (2, 'bob@example.org', 'bobpassword'),\n  (3, 'eve@example.org', 'evepassword');\n\nCREATE TABLE articles (\n  \"id\" int PRIMARY KEY,\n  \"content\" text,\n  \"user_id\" integer REFERENCES users (id)\n);\n\nINSERT INTO articles (\"id\", \"content\", \"user_id\") VALUES\n  (1, 'Un super article', 1),\n  (2, 'Un autre article', 3);</code></pre>\n\n<p></p><pre><code class=\"lang-sql\">SELECT articles.content, users.email\nFROM articles\nJOIN users\nON articles.user_id = users.id\nWHERE articles.id IN (1, 2);</code></pre>\n\n<h1>Exercice</h1>\n\n<p>Sur le schema précédent, ajouter une table <code>commentaires</code> avec les bonnes clés étrangères.</p>\n\n<p>Puis faire une requête pour récupérer les commentaires de l'article dont l'identifiant est 1.</p>\n\n<p>Puis joindre l'e-mail des commentateurs à ces commentaires.</p>","post_number":1,"post_type":1,"updated_at":"2015-06-15T14:33:23.354Z","like_count":0,"reply_count":0,"reply_to_post_number":null,"quote_count":0,"avg_time":166,"incoming_link_count":0,"reads":9,"score":10.1,"yours":false,"topic_id":67,"topic_slug":"sql-avec-postgresql","display_username":"","primary_group_name":null,"version":5,"can_edit":false,"can_delete":false,"can_recover":false,"link_counts":[{"url":"http://sqlfiddle.com/","internal":false,"reflection":false,"clicks":4}],"read":true,"user_title":null,"actions_summary":[{"id":2,"count":0,"hidden":false,"can_act":false},{"id":3,"count":0,"hidden":false,"can_act":false},{"id":4,"count":0,"hidden":false,"can_act":false},{"id":5,"count":0,"hidden":true,"can_act":false},{"id":6,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false}],"moderator":true,"admin":true,"staff":true,"user_id":1,"hidden":false,"hidden_reason_id":null,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":"","can_view_edit_history":true,"wiki":false},{"id":111,"name":"","username":"Julien","avatar_template":"/user_avatar/discourse.simplon.co/julien/{size}/15.png","uploaded_avatar_id":15,"created_at":"2015-06-16T12:22:27.620Z","cooked":"<p>Il manque les clés primaires et étrangères dans ce SQL, ajoutez-les !</p>\n\n<p></p><pre><code class=\"lang-sql\">CREATE TABLE users (\n    \"id\" int,\n    \"name\" varchar(255)\n);\n    \nINSERT INTO users\n    (\"id\", \"name\")\nVALUES\n    (1, 'albert'),\n    (2, 'bob'),\n    (3, 'claire'),\n    (4, 'dominique'),\n    (5, 'elise'),\n    (6, 'fatima'),\n    (7, 'gregorie'),\n    (8, 'julien'),\n    (9, 'melodie'),\n    (10, 'patrick')\n;\n\nCREATE TABLE topics (\n    \"id\" int,\n    \"title\" varchar(255),\n    \"created_at\" timestamp\n);\n    \nINSERT INTO topics\n    (\"id\", \"title\", \"created_at\")\nVALUES\n    (1, 'Ruby', '2015-04-05 00:00:00'),\n    (2, 'HTML', '2015-04-29 00:00:00'),\n    (3, 'CSS', '2015-05-11 00:00:00'),\n    (4, 'JavaScript', '2015-06-16 00:00:00')\n;\n\nCREATE TABLE posts (\n     \"id\" int,\n     \"user_id\" int,\n     \"topic_id\" int,\n     \"content\" text\n);\n    \nINSERT INTO posts\n    (\"id\", \"user_id\", \"topic_id\", \"content\")\nVALUES\n    (1, 8, 1, 'Bonjour, voici du Ruby !'),\n    (2, 2, 1, 'J''ai un problème, comment faire ceci en Ruby ?'),\n    (3, 8, 1, 'Voici la solution pour ton problème de Ruby'),\n    (4, 8, 2, 'Bonjour, voici du HTML !'),\n    (5, 5, 2, 'Comment mettre en gras du texte ?'),\n    (6, 3, 2, 'Avec la balise strong :)'),\n    (7, 5, 2, 'Merci !')\n;</code></pre>\n\n<h2>Exercice</h2>\n\n<ol>\n<li>ajoutez les clés à ce schéma</li>\n<li>listez les messages (posts) de la conversation (topics) sur HTML. Ajoutez le nom de leur auteur à chaque fois.</li>\n<li>listez les noms des utilisateurs ayant participé aux conversations. Triez-les par ordre alphabétique</li>\n</ol>","post_number":2,"post_type":1,"updated_at":"2015-06-16T12:57:58.250Z","like_count":0,"reply_count":0,"reply_to_post_number":null,"quote_count":0,"avg_time":134,"incoming_link_count":0,"reads":4,"score":7.5,"yours":false,"topic_id":67,"topic_slug":"sql-avec-postgresql","display_username":"","primary_group_name":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"read":true,"user_title":null,"actions_summary":[{"id":2,"count":0,"hidden":false,"can_act":false},{"id":3,"count":0,"hidden":false,"can_act":false},{"id":4,"count":0,"hidden":false,"can_act":false},{"id":5,"count":0,"hidden":true,"can_act":false},{"id":6,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false}],"moderator":true,"admin":true,"staff":true,"user_id":1,"hidden":false,"hidden_reason_id":null,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":"","can_view_edit_history":true,"wiki":false}],"stream":[110,111]},"id":67,"title":"SQL avec Postgresql","fancy_title":"SQL avec Postgresql","posts_count":2,"created_at":"2015-06-15T07:17:35.932Z","views":23,"reply_count":0,"participant_count":1,"like_count":0,"last_posted_at":"2015-06-16T12:22:27.620Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"sql-avec-postgresql","category_id":10,"word_count":366,"deleted_at":null,"pending_posts_count":0,"draft":null,"draft_key":"topic_67","draft_sequence":null,"unpinned":null,"pinned_globally":false,"pinned":false,"pinned_at":null,"details":{"auto_close_at":null,"auto_close_hours":null,"auto_close_based_on_last_post":false,"created_by":{"id":1,"username":"Julien","uploaded_avatar_id":15,"avatar_template":"/user_avatar/discourse.simplon.co/julien/{size}/15.png"},"last_poster":{"id":1,"username":"Julien","uploaded_avatar_id":15,"avatar_template":"/user_avatar/discourse.simplon.co/julien/{size}/15.png"},"participants":[{"id":1,"username":"Julien","uploaded_avatar_id":15,"avatar_template":"/user_avatar/discourse.simplon.co/julien/{size}/15.png","post_count":2}],"suggested_topics":[{"id":66,"title":"Modélisation d'une application","fancy_title":"Modélisation d&#39;une application","slug":"modelisation-dune-application","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":"/uploads/default/23/996c7a91ab66048e.png","created_at":"2015-06-14T23:15:03.722Z","last_posted_at":"2015-06-14T23:15:04.620Z","bumped":true,"bumped_at":"2015-06-15T09:45:26.883Z","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"archetype":"regular","like_count":0,"views":20,"category_id":10},{"id":65,"title":"Le framework AngularJS","fancy_title":"Le framework AngularJS","slug":"le-framework-angularjs","posts_count":9,"reply_count":0,"highest_post_number":10,"image_url":null,"created_at":"2015-06-04T08:20:38.913Z","last_posted_at":"2015-06-17T19:55:00.708Z","bumped":true,"bumped_at":"2015-06-17T19:55:00.708Z","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"archetype":"regular","like_count":0,"views":107,"category_id":9},{"id":60,"title":"Challenges du mercredi","fancy_title":"Challenges du mercredi","slug":"challenges-du-mercredi","posts_count":6,"reply_count":0,"highest_post_number":6,"image_url":null,"created_at":"2015-05-23T14:28:46.503Z","last_posted_at":"2015-06-17T14:46:14.276Z","bumped":true,"bumped_at":"2015-06-17T14:46:14.276Z","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"archetype":"regular","like_count":0,"views":70,"category_id":6},{"id":64,"title":"Serveur dédié","fancy_title":"Serveur dédié","slug":"serveur-dedie","posts_count":3,"reply_count":0,"highest_post_number":3,"image_url":null,"created_at":"2015-06-02T08:19:39.478Z","last_posted_at":"2015-06-02T13:09:07.851Z","bumped":true,"bumped_at":"2015-06-02T13:09:07.851Z","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"archetype":"regular","like_count":1,"views":28,"category_id":11},{"id":52,"title":"Programme pédagogique","fancy_title":"Programme pédagogique","slug":"programme-pedagogique","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2015-05-08T21:46:39.354Z","last_posted_at":"2015-05-08T21:46:39.444Z","bumped":true,"bumped_at":"2015-06-14T15:23:46.716Z","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"archetype":"regular","like_count":0,"views":102,"category_id":3}],"links":[{"url":"http://sqlfiddle.com/","title":null,"fancy_title":null,"internal":false,"reflection":false,"clicks":4,"user_id":1,"domain":"sqlfiddle.com"}],"notification_level":1,"can_flag_topic":false},"highest_post_number":2,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":null}